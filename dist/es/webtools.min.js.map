{"version":3,"file":"webtools.min.js","sources":["../../src/index.ts"],"sourcesContent":["/* Transcoding and decoding of Base64 */\r\nclass Base64 {\r\n    constructor(key) {\r\n        if (key)\r\n            this.key = key;\r\n    }\r\n    key = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\";\r\n    encode(input) {\r\n        let output = \"\";\r\n        let chr1, chr2, chr3, enc1, enc2, enc3, enc4;\r\n        let i = 0;\r\n        input = this.utf8_encode(input);\r\n        while (i < input.length) {\r\n            chr1 = input.charCodeAt(i++);\r\n            chr2 = input.charCodeAt(i++);\r\n            chr3 = input.charCodeAt(i++);\r\n            enc1 = chr1 >> 2;\r\n            enc2 = ((chr1 & 3) << 4) | (chr2 >> 4);\r\n            enc3 = ((chr2 & 15) << 2) | (chr3 >> 6);\r\n            enc4 = chr3 & 63;\r\n            if (isNaN(chr2)) {\r\n                enc3 = enc4 = 64;\r\n            }\r\n            else if (isNaN(chr3)) {\r\n                enc4 = 64;\r\n            }\r\n            output = output + this.key.charAt(enc1) + this.key.charAt(enc2) + this.key.charAt(enc3) + this.key.charAt(enc4);\r\n        }\r\n        return output;\r\n    }\r\n    decode(input) {\r\n        let output = \"\";\r\n        let chr1, chr2, chr3;\r\n        let enc1, enc2, enc3, enc4;\r\n        let i = 0;\r\n        input = input.replace(/[^A-Za-z0-9\\+\\/\\=]/g, \"\");\r\n        while (i < input.length) {\r\n            enc1 = this.key.indexOf(input.charAt(i++));\r\n            enc2 = this.key.indexOf(input.charAt(i++));\r\n            enc3 = this.key.indexOf(input.charAt(i++));\r\n            enc4 = this.key.indexOf(input.charAt(i++));\r\n            chr1 = (enc1 << 2) | (enc2 >> 4);\r\n            chr2 = ((enc2 & 15) << 4) | (enc3 >> 2);\r\n            chr3 = ((enc3 & 3) << 6) | enc4;\r\n            output = output + String.fromCharCode(chr1);\r\n            if (enc3 != 64) {\r\n                output = output + String.fromCharCode(chr2);\r\n            }\r\n            if (enc4 != 64) {\r\n                output = output + String.fromCharCode(chr3);\r\n            }\r\n        }\r\n        output = this.utf8_decode(output).replace(/\\u0000/g, \"\");\r\n        return output;\r\n    }\r\n    utf8_encode(str) {\r\n        str = str.replace(/\\r\\n/g, \"\\n\");\r\n        let utftext = \"\";\r\n        for (let n = 0; n < str.length; n++) {\r\n            let c = str.charCodeAt(n);\r\n            if (c < 128) {\r\n                utftext += String.fromCharCode(c);\r\n            }\r\n            else if ((c > 127) && (c < 2048)) {\r\n                utftext += String.fromCharCode((c >> 6) | 192);\r\n                utftext += String.fromCharCode((c & 63) | 128);\r\n            }\r\n            else {\r\n                utftext += String.fromCharCode((c >> 12) | 224);\r\n                utftext += String.fromCharCode(((c >> 6) & 63) | 128);\r\n                utftext += String.fromCharCode((c & 63) | 128);\r\n            }\r\n        }\r\n        return utftext;\r\n    }\r\n    utf8_decode(utftext) {\r\n        let str = \"\";\r\n        let i = 0;\r\n        let c = 0, c1 = 0, c2 = 0;\r\n        while (i < utftext.length) {\r\n            c = utftext.charCodeAt(i);\r\n            if (c < 128) {\r\n                str += String.fromCharCode(c);\r\n                i++;\r\n            }\r\n            else if ((c > 191) && (c < 224)) {\r\n                c1 = utftext.charCodeAt(i + 1);\r\n                str += String.fromCharCode(((c & 31) << 6) | (c1 & 63));\r\n                i += 2;\r\n            }\r\n            else {\r\n                c1 = utftext.charCodeAt(i + 1);\r\n                c2 = utftext.charCodeAt(i + 2);\r\n                str += String.fromCharCode(((c & 15) << 12) | ((c1 & 63) << 6) | (c2 & 63));\r\n                i += 3;\r\n            }\r\n        }\r\n        return str;\r\n    }\r\n}\r\n/* Deep copy of reference data types */\r\nfunction deepCopy(obj, set = new Set()) {\r\n    if (typeof obj !== 'object' || obj === null)\r\n        return obj;\r\n    if (set.has(obj))\r\n        return obj; // 防止爆栈\r\n    set.add(obj);\r\n    let res;\r\n    switch (obj.constructor) {\r\n        case Array: {\r\n            res = [];\r\n            for (let item of obj) {\r\n                res.push(deepCopy(item, set));\r\n            }\r\n            break;\r\n        }\r\n        case Set: {\r\n            res = new Set();\r\n            obj.forEach(item => {\r\n                res.add(deepCopy(item, set));\r\n            });\r\n            break;\r\n        }\r\n        case Map: {\r\n            res = new Map();\r\n            obj.forEach((item, i) => {\r\n                res.set(deepCopy(i, set), deepCopy(item, set));\r\n            });\r\n            break;\r\n        }\r\n        default: {\r\n            res = {};\r\n            for (let i in obj) {\r\n                res[i] = deepCopy(obj[i], set);\r\n            }\r\n        }\r\n    }\r\n    return res;\r\n}\r\n/* Filter object properties and return a new object */\r\nfunction filterObject(obj, str, bol) {\r\n    let res = {};\r\n    if (!str)\r\n        return Object.assign(res, obj);\r\n    let arr = str.split(\",\");\r\n    if (bol === undefined)\r\n        bol = true;\r\n    if (bol) {\r\n        for (let item of arr) {\r\n            item = item.trim();\r\n            obj[item] && (res[item] = obj[item]);\r\n        }\r\n    }\r\n    else {\r\n        Object.assign(res, obj);\r\n        for (let item of arr) {\r\n            delete res[item];\r\n        }\r\n    }\r\n    return res;\r\n}\r\n/* Convert URL parameters to an object */\r\nfunction getQuery(href = window.location.href) {\r\n    let qobj = {};\r\n    let start = href.indexOf(\"?\");\r\n    if (start === -1)\r\n        return qobj;\r\n    let end = href.indexOf(\"#\");\r\n    if (end === -1 || start > end) {\r\n        end = undefined;\r\n    }\r\n    let search = href.slice(start + 1, end);\r\n    if (search === \"\")\r\n        return qobj;\r\n    let qarr = search.split(\"&\");\r\n    for (let item of qarr) {\r\n        if (!item)\r\n            continue;\r\n        let itemarr = item.split(\"=\");\r\n        qobj[decodeURIComponent(itemarr[0])] = decodeURIComponent((itemarr[1] || \"\"));\r\n    }\r\n    return qobj;\r\n}\r\n/* Convert an object to URL parameters */\r\nfunction queryString(obj, bol = false) {\r\n    let arr = [];\r\n    for (let i in obj) {\r\n        if (obj[i] === null || obj[i] === undefined)\r\n            obj[i] = \"\";\r\n        arr.push(encodeURIComponent(i) + '=' + encodeURIComponent(obj[i]));\r\n    }\r\n    let str = arr.join('&');\r\n    return (str && bol) ? '?' + str : str;\r\n}\r\n/* Round to a specified number of decimal places */\r\nfunction toFixed(num, s) {\r\n    if (num === undefined) { // First argument is undefined\r\n        return undefined;\r\n    }\r\n    let numn = Number(num);\r\n    if (isNaN(numn)) { // First argument is not a number\r\n        throw \"argument for toFixed error\";\r\n    }\r\n    if (numn > Math.pow(10, 21)) { // First argument is too large\r\n        return String(numn);\r\n    }\r\n    let sn = Number(s);\r\n    if (s === undefined || sn == 0) { // No second argument or second argument can be converted to 0\r\n        return String(Math.round(numn));\r\n    }\r\n    if (isNaN(sn)) { // Second argument is not a number\r\n        throw \"The argument of C.toFixed must be a number\";\r\n    }\r\n    if (sn > 20 || sn < 0) { // Second argument out of range\r\n        throw \"The second argument of C.toFixed must be between 0 and 20\";\r\n    }\r\n    let nums = String(numn);\r\n    let numarr = nums.split(\".\");\r\n    if (numarr.length < 2) {\r\n        nums += \".\";\r\n        for (let i = 0; i < sn; i++) {\r\n            nums += \"0\";\r\n        }\r\n        return nums;\r\n    }\r\n    let int = numarr[0];\r\n    let dec = numarr[1];\r\n    if (dec.length == sn) {\r\n        return nums;\r\n    }\r\n    if (dec.length < sn) {\r\n        for (let i = 0; i < sn - dec.length; i++) {\r\n            nums += \"0\";\r\n        }\r\n        return nums;\r\n    }\r\n    nums = int + \".\" + dec.slice(0, sn);\r\n    let last = dec.slice(sn, sn + 1);\r\n    if (parseInt(last, 10) >= 5) {\r\n        let x = 10 ** sn;\r\n        nums = ((parseFloat(nums) * x) + 1) / x;\r\n        nums = nums.toFixed(sn);\r\n    }\r\n    return nums;\r\n}\r\n/* Simulate form submission, often used for POST downloading files */\r\nfunction formSubmit(obj) {\r\n    const { document } = window;\r\n    const form = document.createElement(\"form\");\r\n    const { data } = obj;\r\n    delete obj.data;\r\n    for (let i in obj) {\r\n        obj[i] && (form[i] = obj[i]);\r\n    }\r\n    form.style.display = \"none\";\r\n    for (let i in data) {\r\n        const input = document.createElement(\"input\");\r\n        input.setAttribute(\"type\", \"hidden\");\r\n        input.setAttribute(\"name\", i);\r\n        input.value = data[i];\r\n        form.appendChild(input);\r\n    }\r\n    document.body.appendChild(form);\r\n    form.submit();\r\n}\r\n/* Read text file */\r\nfunction readText(url) {\r\n    return new Promise((res, rej) => {\r\n        const xhr = new XMLHttpRequest();\r\n        xhr.onload = e => {\r\n            res(xhr.response);\r\n        };\r\n        xhr.onerror = e => {\r\n            rej(e);\r\n        };\r\n        xhr.open('GET', url, true);\r\n        xhr.send();\r\n    });\r\n}\r\n/* Read JSON file */\r\nfunction readJSON(url) {\r\n    return new Promise((res, rej) => {\r\n        const xhr = new XMLHttpRequest();\r\n        xhr.onload = e => {\r\n            res(JSON.parse(xhr.response));\r\n        };\r\n        xhr.onerror = e => {\r\n            rej(e);\r\n        };\r\n        xhr.open('GET', url, true);\r\n        xhr.send();\r\n    });\r\n}\r\nfunction getStore(str) {\r\n    let storage = localStorage.getItem(str);\r\n    if (typeof storage === \"string\") {\r\n        try {\r\n            storage = JSON.parse(storage);\r\n        }\r\n        catch (e) { }\r\n    }\r\n    return storage;\r\n}\r\nfunction setStore(str, data) {\r\n    if (typeof data === 'object' && data !== null) {\r\n        try {\r\n            data = JSON.stringify(data);\r\n        }\r\n        catch (err) { }\r\n    }\r\n    localStorage.setItem(str, data);\r\n}\r\nfunction unid() {\r\n    return Math.floor(Math.random() * 10e13).toString(36) + Date.now().toString(36);\r\n}\r\nfunction colorRGB(str) {\r\n    const reg16 = /^#([0-9a-fA-f]{3}|[0-9a-fA-f]{6})$/;\r\n    const regRGB = /^(rgb\\(|RGB\\()[\\s\\S]+\\)/;\r\n    let co = str.toLowerCase();\r\n    let res = [];\r\n    if (reg16.test(co)) {\r\n        if (co.length === 4) {\r\n            let conew = \"#\";\r\n            for (let i = 1; i < 4; i += 1) {\r\n                conew += co.slice(i, i + 1).concat(co.slice(i, i + 1));\r\n            }\r\n            co = conew;\r\n        }\r\n        for (let i = 1; i < 7; i += 2) {\r\n            res.push(parseInt(\"0x\" + co.slice(i, i + 2)));\r\n        }\r\n        return res;\r\n    }\r\n    if (regRGB.test(co)) {\r\n        res = co.replace(/( |\\(|\\)|rgb|RGB)+/g, \"\").split(\",\");\r\n        return res.map(Number);\r\n    }\r\n}\r\nfunction clipboardWrite(content, type = \"text/plain\") {\r\n    let ci = null;\r\n    if (Object.prototype.toString.call(content) === \"[object Blob]\") {\r\n        ci = new ClipboardItem({ [type]: content });\r\n    }\r\n    else if (Array.isArray(content)) {\r\n        ci = new ClipboardItem({ [type]: new Blob(content, { type }) });\r\n    }\r\n    else {\r\n        ci = new ClipboardItem({ [type]: new Blob([content], { type }) });\r\n    }\r\n    return navigator.clipboard.write([ci]);\r\n}\r\nexport { Base64, deepCopy, filterObject, getQuery, queryString, toFixed, formSubmit, readText, readJSON, getStore, setStore, unid, colorRGB, clipboardWrite };\r\nexport default {\r\n    Base64,\r\n    deepCopy,\r\n    filterObject,\r\n    getQuery,\r\n    queryString,\r\n    toFixed,\r\n    formSubmit,\r\n    readText,\r\n    readJSON,\r\n    getStore,\r\n    setStore,\r\n    unid,\r\n    colorRGB,\r\n    clipboardWrite\r\n};\r\n//# sourceMappingURL=index.js.map"],"names":["Base64","constructor","key","this","encode","input","chr1","chr2","chr3","enc1","enc2","enc3","enc4","output","i","utf8_encode","length","charCodeAt","isNaN","charAt","decode","replace","indexOf","String","fromCharCode","utf8_decode","str","utftext","n","c","c1","c2","deepCopy","obj","set","Set","has","res","add","Array","item","push","forEach","Map","filterObject","bol","Object","assign","arr","split","undefined","trim","getQuery","href","window","location","qobj","start","end","search","slice","qarr","itemarr","decodeURIComponent","queryString","encodeURIComponent","join","toFixed","num","s","numn","Number","Math","pow","sn","round","nums","numarr","int","dec","last","parseInt","x","parseFloat","formSubmit","document","form","createElement","data","style","display","setAttribute","value","appendChild","body","submit","readText","url","Promise","rej","xhr","XMLHttpRequest","onload","e","response","onerror","open","send","readJSON","JSON","parse","getStore","storage","localStorage","getItem","setStore","stringify","err","setItem","unid","floor","random","toString","Date","now","colorRGB","co","toLowerCase","test","conew","concat","map","clipboardWrite","content","type","ci","prototype","call","ClipboardItem","isArray","Blob","navigator","clipboard","write","index"],"mappings":"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"}