!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e="undefined"!=typeof globalThis?globalThis:e||self).tools=t()}(this,(function(){"use strict";const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";var t={Base64:{encode:function(t){let r,n,o,i,f,a,l,d="",c=0;for(t=function(e){e=e.replace(/\r\n/g,"\n");let t="";for(let r=0;r<e.length;r++){let n=e.charCodeAt(r);n<128?t+=String.fromCharCode(n):n>127&&n<2048?(t+=String.fromCharCode(n>>6|192),t+=String.fromCharCode(63&n|128)):(t+=String.fromCharCode(n>>12|224),t+=String.fromCharCode(n>>6&63|128),t+=String.fromCharCode(63&n|128))}return t}(t);c<t.length;)r=t.charCodeAt(c++),n=t.charCodeAt(c++),o=t.charCodeAt(c++),i=r>>2,f=(3&r)<<4|n>>4,a=(15&n)<<2|o>>6,l=63&o,isNaN(n)?a=l=64:isNaN(o)&&(l=64),d=d+e.charAt(i)+e.charAt(f)+e.charAt(a)+e.charAt(l);return d},decode:function(t){let r,n,o,i,f,a,l,d="",c=0;for(t=t.replace(/[^A-Za-z0-9\+\/\=]/g,"");c<t.length;)i=e.indexOf(t.charAt(c++)),f=e.indexOf(t.charAt(c++)),a=e.indexOf(t.charAt(c++)),l=e.indexOf(t.charAt(c++)),r=i<<2|f>>4,n=(15&f)<<4|a>>2,o=(3&a)<<6|l,d+=String.fromCharCode(r),64!=a&&(d+=String.fromCharCode(n)),64!=l&&(d+=String.fromCharCode(o));return d=function(e){let t="",r=0,n=0,o=0,i=0;for(;r<e.length;)n=e.charCodeAt(r),n<128?(t+=String.fromCharCode(n),r++):n>191&&n<224?(o=e.charCodeAt(r+1),t+=String.fromCharCode((31&n)<<6|63&o),r+=2):(o=e.charCodeAt(r+1),i=e.charCodeAt(r+2),t+=String.fromCharCode((15&n)<<12|(63&o)<<6|63&i),r+=3);return t}(d).replace(/\u0000/g,""),d}},deepCopy:function e(t,r=new Set){if("object"!=typeof t||null===t)return t;if(r.has(t))return t;let n;switch(r.add(t),t.constructor){case Array:n=[];for(let o of t)n.push(e(o,r));break;case Set:n=new Set,t.forEach((t=>{n.add(e(t,r))}));break;case Map:n=new Map,t.forEach(((t,o)=>{n.set(e(o,r),e(t,r))}));break;default:n={};for(let o in t)n[o]=e(t[o],r)}return n},filterObject:function(e,t,r){let n={};if(!t)return Object.assign(n,e);let o=t.split(",");if(void 0===r&&(r=!0),r)for(let t of o)t=t.trim(),e[t]&&(n[t]=e[t]);else{Object.assign(n,e);for(let e of o)delete n[e]}return n},getQuery:function(e=window.location.href){let t={},r=e.indexOf("?");if(-1===r)return t;let n=e.indexOf("#");(-1===n||r>n)&&(n=void 0);let o=e.slice(r+1,n);if(""===o)return t;let i=o.split("&");for(let e of i){if(!e)continue;let r=e.split("=");t[decodeURIComponent(r[0])]=decodeURIComponent(r[1]||"")}return t},queryString:function(e,t=!1){let r=[];for(let t in e)null!==e[t]&&void 0!==e[t]||(e[t]=""),r.push(encodeURIComponent(t)+"="+encodeURIComponent(e[t]));let n=r.join("&");return n&&t?"?"+n:n},toFixed:function(e,t){if(void 0===e)return;let r=Number(e);if(isNaN(r))throw"argument for toFixed error";if(r>Math.pow(10,21))return String(r);let n=Number(t);if(void 0===t||0==n)return String(Math.round(r));if(isNaN(n))throw"The argument of C.toFixed must be a number";if(n>20||n<0)throw"The second argument of C.toFixed must be between 0 and 20";let o=String(r),i=o.split(".");if(i.length<2){o+=".";for(let e=0;e<n;e++)o+="0";return o}let f=i[0],a=i[1];if(a.length==n)return o;if(a.length<n){for(let e=0;e<n-a.length;e++)o+="0";return o}o=f+"."+a.slice(0,n);let l=a.slice(n,n+1);if(parseInt(l,10)>=5){let e=10**n;o=(parseFloat(o)*e+1)/e,o=o.toFixed(n)}return o},formSubmit:function(e){const{document:t}=window,r=t.createElement("form"),{data:n}=e;delete e.data;for(let t in e)e[t]&&(r[t]=e[t]);r.style.display="none";for(let e in n){const o=t.createElement("input");o.setAttribute("type","hidden"),o.setAttribute("name",e),o.value=n[e],r.appendChild(o)}t.body.appendChild(r),r.submit()},readText:function(e){return new Promise(((t,r)=>{const n=new XMLHttpRequest;n.onload=e=>{t(n.response)},n.onerror=e=>{r(e)},n.open("GET",e,!0),n.send()}))},readJSON:function(e){return new Promise(((t,r)=>{const n=new XMLHttpRequest;n.onload=e=>{t(JSON.parse(n.response))},n.onerror=e=>{r(e)},n.open("GET",e,!0),n.send()}))},getStore:function(e){let t=localStorage.getItem(e);if("string"==typeof t)try{t=JSON.parse(t)}catch(e){}return t},setStore:function(e,t){if("object"==typeof t&&null!==t)try{t=JSON.stringify(t)}catch(e){}localStorage.setItem(e,t)},unid:function(){return Math.floor(1e14*Math.random()).toString(36)+Date.now().toString(36)},colorRGB:function(e){let t=e.toLowerCase(),r=[];if(/^#([0-9a-fA-f]{3}|[0-9a-fA-f]{6})$/.test(t)){if(4===t.length){let e="#";for(let r=1;r<4;r+=1)e+=t.slice(r,r+1).concat(t.slice(r,r+1));t=e}for(let e=1;e<7;e+=2)r.push(parseInt("0x"+t.slice(e,e+2)));return r}if(/^(rgb\(|RGB\()[\s\S]+\)/.test(t))return r=t.replace(/( |\(|\)|rgb|RGB)+/g,"").split(","),r.map(Number)}};return t}));
//# sourceMappingURL=webtools.min.js.map
