!function(e,t){"object"==typeof module&&"object"==typeof module.exports?module.exports=t():"object"==typeof exports?exports=t():"object"==typeof e?(e.tools=t(),e.Base64=t().Base64):"object"==typeof window?(window.tools=t(),window.Base64=t().Base64):console.warn("webtools startup failure.")}(this,(function(){return{filterObject:function(e,t,r){var n={};if(null==t)return Object.assign(n,e);var o=t.split(",");if(void 0===r&&(r=!0),r)for(let t of o)e[t]&&(n[t]=e[t]);else{Object.assign(n,e);for(let e of o)Reflect.deleteProperty(n,e)}return n},deepCopy:function e(t){let r="Array"===t.constructor.name?[]:{};for(let n in t)"object"==typeof t[n]&&null!==t[n]?(r[n]="Array"===t[n].constructor.name?[]:{},r[n]=e(t[n])):r[n]=t[n];return r},getQuery:function(){var e={},{href:t}=window.location,r=t.indexOf("?");if(-1===r)return e;var n=t.slice(r+1);return""===n||n.split("&").map((t=>{let r=t.split("=");e[decodeURIComponent(r[0])]=decodeURIComponent(r[1])})),e},queryString:function(e){var t=[];for(let r in e)null!==e[r]&&void 0!==e[r]||(e[r]=""),t.push(encodeURIComponent(r)+"="+encodeURIComponent(e[r]));var r=t.join("&");return r?"?"+r:r},toFixed:function(e,t){if(void 0===e)return;let r=Number(e);if(isNaN(r))throw"argument for toFixed error";if(r>Math.pow(10,21))return String(r);let n=Number(t);if(void 0===t||0==n)return String(Math.round(r));if(isNaN(n))throw"The argument of C.toFixed must be a number";if(n>20||n<0)throw"The second argument of C.toFixed must be between 0 and 20";let o=String(r),i=o.split(".");if(i.length<2){o+=".";for(let e=0;e<n;e++)o+="0";return o}let a=i[0],f=i[1];if(f.length==n)return o;if(f.length<n){for(let e=0;e<n-f.length;e++)o+="0";return o}o=a+"."+f.slice(0,n);let c=f.slice(n,n+1);if(parseInt(c,10)>=5){let e=10**n;o=(parseFloat(o)*e+1)/e,o=o.toFixed(n)}return o},formatInput:function(e){var{el:t,rules:r,reg:n,nopass:o,pass:i}=e;window.document.querySelectorAll(t).forEach((e=>{!function(e){var t=e.value;function a(e){var a=e.target.value,f=!0;if(r){for(let e of r)if(d(e.reg,e.nopass),!f)break}else d(n,o);if(f){var c=t;t=e.target.value,i&&i(t,c)}function d(r,n){r.test(a)||(n({nopassValue:a}),e.target.value=t,f=!1)}}e.addEventListener("input",a),e.addEventListener("compositionstart",(t=>{e.removeEventListener("input",a)})),e.addEventListener("compositionend",(t=>{a(t),e.addEventListener("input",a)}))}(e)}))},formSubmit:function(e){var{document:t}=window,r=t.createElement("form"),{data:n}=e;Reflect.deleteProperty(e,"data");for(let t in e)e[t]&&(r[t]=e[t]);r.style.display="none";for(let e in n){let o=t.createElement("input");o.setAttribute("type","hidden"),o.setAttribute("name",e),o.value=n[e],r.appendChild(o)}t.body.appendChild(r),r.submit()},readText:function(e,t){let r=new XMLHttpRequest;r.onload=e=>{t(r.response)},r.open("GET",e,!0),r.send()},readJSON:function(e,t){let r=new XMLHttpRequest;r.onload=e=>{t(JSON.parse(r.response))},r.open("GET",e,!0),r.send()},getStore:function(e){var t=localStorage.getItem(e);if("string"==typeof t)try{t=JSON.parse(t)}catch(e){}return t},setStore:function(e,t){if("object"==typeof t&&null!==t)try{t=JSON.stringify(t)}catch(e){}localStorage.setItem(e,t)},unid:function(){return parseInt(1e14*Math.random()).toString(36)+Date.now().toString(36)},Base64:new function(){key="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",this.encode=function(e){var t,r,n,o,i,a,f,c="",d=0;for(e=utf8_encode(e);d<e.length;)o=(t=e.charCodeAt(d++))>>2,i=(3&t)<<4|(r=e.charCodeAt(d++))>>4,a=(15&r)<<2|(n=e.charCodeAt(d++))>>6,f=63&n,isNaN(r)?a=f=64:isNaN(n)&&(f=64),c=c+key.charAt(o)+key.charAt(i)+key.charAt(a)+key.charAt(f);return c},this.decode=function(e){var t,r,n,o,i,a,f="",c=0;for(e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");c<e.length;)t=key.indexOf(e.charAt(c++))<<2|(o=key.indexOf(e.charAt(c++)))>>4,r=(15&o)<<4|(i=key.indexOf(e.charAt(c++)))>>2,n=(3&i)<<6|(a=key.indexOf(e.charAt(c++))),f+=String.fromCharCode(t),64!=i&&(f+=String.fromCharCode(r)),64!=a&&(f+=String.fromCharCode(n));return f=utf8_decode(f)},utf8_encode=function(e){e=e.replace(/\r\n/g,"\n");for(var t="",r=0;r<e.length;r++){var n=e.charCodeAt(r);n<128?t+=String.fromCharCode(n):n>127&&n<2048?(t+=String.fromCharCode(n>>6|192),t+=String.fromCharCode(63&n|128)):(t+=String.fromCharCode(n>>12|224),t+=String.fromCharCode(n>>6&63|128),t+=String.fromCharCode(63&n|128))}return t},utf8_decode=function(e){for(var t="",r=0,n=c1=c2=0;r<e.length;)(n=e.charCodeAt(r))<128?(t+=String.fromCharCode(n),r++):n>191&&n<224?(c2=e.charCodeAt(r+1),t+=String.fromCharCode((31&n)<<6|63&c2),r+=2):(c2=e.charCodeAt(r+1),c3=e.charCodeAt(r+2),t+=String.fromCharCode((15&n)<<12|(63&c2)<<6|63&c3),r+=3);return t}}}}));